{"version":3,"sources":["model/Model.js","components/Canvas/Canvas.js","components/ColorSticker/ColorSticker.js","components/ColorButton/ColorButton.js","components/RuleCard/RuleCard.js","components/RuleSelectUI/RuleSelectUI.js","images/settings.svg","components/Settings/Settings.js","App.js","reportWebVitals.js","index.js"],"names":["Model","width","height","maxHealth","rule","this","sprinkleAmount","initMatrix","run","matrix","Array","i","length","team","level","step","renderID","requestAnimationFrame","cancelAnimationFrame","index","Math","floor","random","teamCode","teams","putIndex","x","y","j","current","get","neighbors","coord","target","teamWin","teamA","teamB","pairs","r","Canvas","model","selectedTeam","useState","useRef","canvasRef","pressing","mouseInfo","useEffect","requestID","canvas","ctx","getContext","loop","nextFrame","createImageData","getTeam","getLevelNorm","colorlist","red","green","blue","data","putImageData","className","ref","onMouseDown","e","onMouseUp","onMouseMove","point","evt","rect","getBoundingClientRect","clientX","left","clientY","top","getMousePos","put","ColorSticker","ar","color","style","backgroundColor","ColorButton","selected","label","func","onClick","RuleCard","highlight","map","pair","RuleSelectUI","showing","closeFunc","selectFunc","focus","tabIndex","onKeyDown","key","stopPropagation","rules","_extends","Object","assign","arguments","source","prototype","hasOwnProperty","call","apply","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","_ref2","fillRule","d","clipRule","SvgSettings","_ref","svgRef","title","titleId","props","xmlns","viewBox","fill","id","ForwardRef","Settings","spread","setSpread","setSprinkleAmount","setDefault","showSettings","setShowSettings","forname","type","min","value","onInput","parseInt","require","App","setSelectedTeam","showSelectRule","setShowSelectRule","document","addEventListener","selectTeam","sprinkle","clear","toggleRuleSelectUI","teamID","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.b1a5f6f5.chunk.js","sourcesContent":["class Model {\r\n    constructor (width, height, maxHealth, rule) {\r\n        this.width = width;\r\n        this.height = height;\r\n        this.maxHealth = maxHealth;\r\n        this.rule = rule;\r\n        this.sprinkleAmount = 1;\r\n        this.initMatrix();\r\n        this.run();\r\n    }\r\n\r\n    initMatrix() {\r\n        this.matrix = new Array(this.width * this.height);\r\n        for(let i = 0; i<this.matrix.length; i++)\r\n            this.matrix[i] = {team: '0', level: 0};\r\n    }\r\n\r\n    run() {\r\n        this.step();\r\n        this.renderID = requestAnimationFrame(() => this.run());\r\n    }\r\n\r\n    pause() {\r\n        cancelAnimationFrame(this.renderID);\r\n    }\r\n\r\n    clear() {\r\n        this.matrix.length = 0;\r\n        this.initMatrix();\r\n    }\r\n\r\n    sprinkle() {\r\n        for(let i = 0; i<this.sprinkleAmount; i++) {\r\n            let index = Math.floor(Math.random() * this.matrix.length);\r\n            let teamCode = this.rule.teams[Math.floor(Math.random() * this.rule.teams.length)];\r\n            this.putIndex(teamCode, index);\r\n        }\r\n    }\r\n\r\n    putIndex(teamCode, index) {\r\n        this.matrix[index] = {team: teamCode, level: this.maxHealth};\r\n    }\r\n\r\n    put(teamCode, x, y) {\r\n        if(x < 0 || x >= this.width || y < 0 || y >= this.height)\r\n            return;\r\n        this.matrix[x + y * this.width] = {team: teamCode, level: this.maxHealth};\r\n    }\r\n\r\n    get(x, y) {\r\n        if(x < 0 || x >= this.width || y < 0 || y >= this.height)\r\n            return;\r\n        return this.matrix[x + y * this.width];\r\n    }\r\n\r\n    getTeam(index) {\r\n        return this.matrix[index].team;\r\n    }\r\n\r\n    getLevelNorm(index) {\r\n        return this.matrix[index].level / this.maxHealth;\r\n    }\r\n    \r\n    step() {\r\n        for(let j = 0; j<this.height; j++)\r\n            for(let i = 0; i<this.width; i++) {\r\n                let current = this.get(i, j);\r\n                if(current.team === '0')\r\n                    continue;\r\n                let neighbors = [\r\n                    [-1, -1],\r\n                    [-1, 0],\r\n                    [-1, 1],\r\n                    [0, -1],\r\n                    [0, 1],\r\n                    [1, -1],\r\n                    [1, 0],\r\n                    [1, 1]\r\n                ];\r\n\r\n                // SELECT TARGET\r\n                let coord = neighbors[Math.floor(Math.random() * neighbors.length)];\r\n                if (coord[0] + i < 0 || coord[0] + i >= this.width)\r\n                    continue;\r\n                if (coord[1] + j < 0 || coord[1] + j >= this.height)\r\n                    continue;\r\n\r\n                const target = this.get(coord[0] + i, coord[1] + j);\r\n\r\n                // SPREAD\r\n                if (target.team === '0') {\r\n                    if (current.level > 0) {\r\n                        target.team = current.team;  \r\n                        target.level = current.level - 1;\r\n                    }\r\n                    continue;\r\n                }\r\n\r\n                // EAT\r\n                if (this.teamWin(current.team, target.team)) {\r\n                    target.level --;\r\n                    if(target.level < 0) {\r\n                        current.level = this.maxHealth;\r\n                        target.team = current.team;\r\n                        target.level = current.level - 1;\r\n                    }\r\n                }\r\n            }\r\n    }\r\n\r\n    teamWin(teamA, teamB) {\r\n        for(let r of this.rule.pairs) {\r\n            if(teamA === r[0] && teamB === r[1])\r\n                return true;\r\n        }\r\n        return false;\r\n    }\r\n}\r\n\r\nexport {Model}","import {useState, useRef, useEffect} from 'react'\r\nimport './canvas.css'\r\nimport colorlist from '../../data/colorlist.json'\r\n\r\nconst Canvas = ({model, selectedTeam}) => {\r\n    const [canvasRef] = useState(useRef(null));\r\n    const [mouseInfo] = useState({\r\n        pressing: false,\r\n        x: 0,\r\n        y: 0\r\n    });\r\n\r\n    useEffect(() => {\r\n        const canvas = canvasRef.current;\r\n        const ctx = canvas.getContext('2d');\r\n        \r\n        let requestID;\r\n        const loop = () => {\r\n            let nextFrame = ctx.createImageData(canvas.width, canvas.height);\r\n            for(let index = 0; index<model.matrix.length; index++) {\r\n                let i = index * 4;\r\n                let team = model.getTeam(index);\r\n                let r = team === 0 ? 1 : (model.getLevelNorm(index) + 3) / 4;\r\n                let [red, green, blue] = colorlist[team];\r\n                nextFrame.data[i] = red * r;\r\n                nextFrame.data[i+1] = green * r;\r\n                nextFrame.data[i+2] = blue * r;\r\n                nextFrame.data[i+3] = 255;\r\n            }\r\n            ctx.putImageData(nextFrame, 0, 0);\r\n            requestID = requestAnimationFrame(loop);\r\n        };\r\n\r\n        loop();\r\n\r\n        return () => {\r\n            cancelAnimationFrame(requestID);\r\n        }\r\n    }, [canvasRef, model])\r\n\r\n    // eslint-disable-next-line\r\n    const getCanvas = () => {\r\n        return canvasRef.current;\r\n    }\r\n\r\n    // eslint-disable-next-line\r\n    const getContext = () => {\r\n        return canvasRef.current.getContext('2d');\r\n    }\r\n\r\n    const getMousePos = (evt) => {\r\n        var rect = canvasRef.current.getBoundingClientRect();\r\n        return {\r\n          x: evt.clientX - rect.left,\r\n          y: evt.clientY - rect.top\r\n        };\r\n    }\r\n\r\n    const mouseMove = (e) => {\r\n        let point = getMousePos(e);\r\n        mouseInfo.x = Math.floor(point.x);\r\n        mouseInfo.y = Math.floor(point.y);\r\n        if(mouseInfo.pressing)\r\n            model.put(selectedTeam, mouseInfo.x, mouseInfo.y);\r\n    }\r\n\r\n    const mouseDown = (e) => {\r\n        mouseInfo.pressing = true;\r\n    }\r\n\r\n    const mouseUp = (e) => {\r\n        mouseInfo.pressing = false;\r\n    }\r\n    \r\n    return (\r\n        <div className='canvasWrap'>\r\n            <canvas ref={canvasRef} onMouseDown={mouseDown} onMouseUp={mouseUp} onMouseMove={mouseMove} width={model.width} height={model.height}></canvas>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Canvas\r\n","import React from 'react'\r\nimport './ColorSticker.css'\r\nimport colorlist from '../../data/colorlist.json'\r\n\r\nconst ColorSticker = ({team}) => {\r\n    const ar = colorlist[team];\r\n    const color = `rgb(${ar[0]}, ${ar[1]}, ${ar[2]})`;\r\n    return (\r\n        <div className='color-sticker' style={{backgroundColor: color}}></div>\r\n    )\r\n}\r\n\r\nexport default ColorSticker\r\n","import './ColorButton.css'\r\nimport ColorSticker from '../ColorSticker/ColorSticker.js'\r\n\r\nconst ColorButton = ({selected, label, team, func}) => {\r\n    return (\r\n        <button className={'colorBtn' + (selected ? ' colorBtn-select' : '')} onClick={() => func(team)}>\r\n            <label>{`${label}`}</label>\r\n            <ColorSticker team={team}/>\r\n        </button>\r\n    )\r\n}\r\n\r\nexport default ColorButton\r\n","import React from 'react'\r\nimport './RuleCard.css'\r\nimport ColorSticker from '../ColorSticker/ColorSticker.js'\r\n\r\nconst RuleCard = ({rule, func, highlight}) => {\r\n    return (\r\n        <button className={'rule-card' + (highlight ? ' rule-card-highlight' : '')} onMouseDown={func}>\r\n          {\r\n            rule.pairs.map((pair, i) => {\r\n              return <div key={i} className='rule-pair'><ColorSticker team={pair[0]}/> &gt; <ColorSticker team={pair[1]}/></div>\r\n            })\r\n          }\r\n        </button>\r\n    )\r\n}\r\n\r\nexport default RuleCard\r\n","import React, {useRef, useEffect} from 'react'\r\nimport './RuleSelectUI.css'\r\nimport RuleCard from '../RuleCard/RuleCard.js'\r\nimport rules from '../../data/rules.json'\r\n\r\nconst RuleSelectUI = ({showing, closeFunc, selectFunc, model}) => {\r\n    const ref = useRef(null)\r\n\r\n    useEffect(() => {\r\n        ref.current.focus();\r\n    })\r\n\r\n    const keyDown = (e) => {\r\n        if(e.key === \"Escape\")\r\n            closeFunc();\r\n    }\r\n    \r\n    return (\r\n        <div ref={ref} tabIndex={0} className={`rule-select-ui ${showing ? '' : 'hiding'}`} onMouseDown={()=>closeFunc()} onKeyDown={keyDown}>\r\n            <div className='rule-select-ui-content' onMouseDown={(e) => {e.stopPropagation()}}>\r\n                <div className='rule-select-ui-header'>\r\n                    <span>Select Rule</span>\r\n                </div>\r\n                <div className='rule-select-ui-body'>\r\n                    {\r\n                        rules.map((rule, index) => {\r\n                            return <RuleCard highlight={rule === model.rule} key={index} rule={rule} func={()=>selectFunc(rule)} />\r\n                        })\r\n                    }\r\n                </div>\r\n\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default RuleSelectUI\r\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  d: \"M11.49 3.17c-.38-1.56-2.6-1.56-2.98 0a1.532 1.532 0 01-2.286.948c-1.372-.836-2.942.734-2.106 2.106.54.886.061 2.042-.947 2.287-1.561.379-1.561 2.6 0 2.978a1.532 1.532 0 01.947 2.287c-.836 1.372.734 2.942 2.106 2.106a1.532 1.532 0 012.287.947c.379 1.561 2.6 1.561 2.978 0a1.533 1.533 0 012.287-.947c1.372.836 2.942-.734 2.106-2.106a1.533 1.533 0 01.947-2.287c1.561-.379 1.561-2.6 0-2.978a1.532 1.532 0 01-.947-2.287c.836-1.372-.734-2.942-2.106-2.106a1.532 1.532 0 01-2.287-.947zM10 13a3 3 0 100-6 3 3 0 000 6z\",\n  clipRule: \"evenodd\"\n});\n\nfunction SvgSettings(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 20 20\",\n    fill: \"currentColor\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgSettings);\nexport default __webpack_public_path__ + \"static/media/settings.9caee2e4.svg\";\nexport { ForwardRef as ReactComponent };","import React, {useState} from 'react'\r\nimport './Settings.css'\r\nimport {ReactComponent as SettingsIcon} from '../../images/settings.svg';\r\n\r\nconst Settings = ({spread, setSpread, sprinkleAmount, setSprinkleAmount, setDefault}) => {\r\n    const [showSettings, setShowSettings] = useState(false);\r\n    return (\r\n        <button className={'settings-btn' + (showSettings ? ' show' : '')} onClick={() => setShowSettings(!showSettings)} onKeyDown={e => e.stopPropagation()}>\r\n          <div className='header'>\r\n            <SettingsIcon width=\"20\" height=\"20\"/>\r\n          </div>\r\n          {\r\n            showSettings && \r\n            <div className='body' onClick={e => e.stopPropagation()}>\r\n              <div className='option'>\r\n                <div className='cell'>\r\n                  <label forname='spread'>Spread</label>\r\n                </div>\r\n                <div className='cell'>\r\n                  <input type='number' id='spread' min='1' value={spread} onInput={(e) => {\r\n                    setSpread(parseInt(e.target.value) || 1)\r\n                  }}></input>\r\n                </div>\r\n              </div>\r\n              <div className='option'>\r\n                <div className='cell'>\r\n                  <label forname='sprinkle-amount'>Sprinkle Amount</label>\r\n                </div>\r\n                <div className='cell'>\r\n                  <input type='number' id='sprinkle-amount' min='1' value={sprinkleAmount} onInput={(e) => {\r\n                    setSprinkleAmount(parseInt(e.target.value) || 1)\r\n                  }}></input>\r\n                </div>\r\n              </div>\r\n              <div className='option'>\r\n                <div className='cell'>\r\n                  <div className='default-btn' onClick={setDefault}>Default</div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          }\r\n        </button>\r\n    )\r\n}\r\n\r\nexport default Settings\r\n","import React, {useState, useEffect} from 'react'\nimport Canvas from './components/Canvas/Canvas.js'\nimport ColorButton from './components/ColorButton/ColorButton.js'\nimport RuleCard from './components/RuleCard/RuleCard.js'\nimport RuleSelectUI from './components/RuleSelectUI/RuleSelectUI.js'\nimport Settings from './components/Settings/Settings.js'\nimport rules from './data/rules.json'\nconst {Model} = require('./model/Model.js')\nconst DEFAULT_SPREAD = 12;\nconst DEFAULT_SPRINKLE = 100;\nconst model = new Model(800, 500, DEFAULT_SPREAD, rules[0])\n\nconst App = () => {\n  const [selectedTeam, setSelectedTeam] = useState(model.rule.teams[0]);\n  const [showSelectRule, setShowSelectRule] = useState(false);\n  const [sprinkleAmount, setSprinkleAmount] = useState(DEFAULT_SPRINKLE);\n  const [spread, setSpread] = useState(model.maxHealth);\n\n  useEffect(() => {\n    const keyDown = (e) => {\n      if(e.key > '0' && e.key <= '9')\n        selectTeam(model.rule.teams[parseInt(e.key) - 1]);\n      if(e.key === 's')\n        model.sprinkle();\n    }\n    document.addEventListener('keydown', keyDown);\n  }, []);\n\n  useEffect(() => {\n    model.maxHealth = spread;\n    model.clear();\n  }, [spread]);\n\n  useEffect(() => {\n    model.sprinkleAmount = sprinkleAmount;\n  }, [sprinkleAmount]);\n\n  const selectTeam = (team) => {\n    if(model.rule.teams.indexOf(team) !== -1) {\n      setSelectedTeam(team);\n    }\n  }\n\n  const toggleRuleSelectUI = () => {\n    setShowSelectRule(!showSelectRule);\n  }\n\n  const selectRule = (rule) => {\n    model.rule = rule;\n    setSelectedTeam(model.rule.teams[0]);\n    model.clear();\n    setShowSelectRule(false);\n  }\n\n  const setDefaultSettings = () => {\n    setSpread(DEFAULT_SPREAD);\n    setSprinkleAmount(DEFAULT_SPRINKLE);\n  }\n\n  return (\n    <div className=\"App\" >\n      <h1>Color Fight</h1>\n      <div>\n        <Canvas model={model} selectedTeam={selectedTeam}/>\n      </div>\n      <div className='toolbar'>\n        {\n          model.rule.teams.map((teamID, index) => {\n            return <ColorButton key={index} label={index + 1} selected={selectedTeam === teamID} team={teamID} func={selectTeam} />\n          })\n        }\n        <button className='actionBtn' onClick={() => model.sprinkle()}>Sprinkle</button>\n        <button className='actionBtn' onClick={() => model.clear()}>Clear</button>\n        <Settings spread={spread} setSpread={setSpread} sprinkleAmount={sprinkleAmount} setSprinkleAmount={setSprinkleAmount} setDefault={setDefaultSettings}/>\n      </div>\n      <div>\n        <h2>Rule:</h2>\n        <RuleCard rule={model.rule} func={toggleRuleSelectUI} />\n      </div>\n      <RuleSelectUI model={model} showing={showSelectRule} closeFunc={toggleRuleSelectUI} selectFunc={selectRule}/>\n    </div>\n  );\n};\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}